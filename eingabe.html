<!DOCTYPE html>
<html lang="de" class="!scroll-smooth scrollbar-thumb-green-500">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- ios support -->
    <link rel="apple-touch-icon" href="../icons/icon-96x96.png">
    <meta name="apple-mobile-web-app-status-bar" content="#aa7700">
    <title>Eingabe Plan</title>
    <link rel="shortcut icon" type="image/png" href="logo.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="stylesheet" href="./css/Google Sheet.css">
    <link rel="stylesheet" href="./css/style_eingabe.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
</head>

<style>
    #check:checked ~ ul {
        left: 0;
    }
</style>

<body>
    <nav class="bg-gradient-to-r from-green-600 to-green-200 h-20 w-full sticky top-0 z-50">
        <input type="checkbox" id="check" hidden>
        <label for="check" class="float-right text-white text-3xl leading-[80px] mr-10 lg:hidden">
            <ion-icon name="menu" onclick="Menu(this)"></ion-icon> </label>
        <a href="welcome.html" class="cursor-pointer text-white leading-[80px] pl-12 md:pl-2 md:text-4-xl text-3xl">
            <ion-icon name="arrow-back-outline"></ion-icon>
        </a>
        <ul class="float-right mr-10 lg:flex leading-[80px] space-x-4 text-white uppercase rounded fixed lg:relative h-[100vh] lg:h-0 w-[100%] lg:w-fit top-20 lg:top-0 left-[-100%] lg:left-0 transition-all duration-300 lg:transition-none text-center bg-gradient-to-r from-green-600 to-green-200">
        <li>
            <a href="account.html" class="text-xl hover:text-green-500 transition-all duration-500">Account</a>
        </li>
        <li>
            <a href="news.html" class="text-xl hover:text-green-500 transition-all duration-500">Nachrichten</a>         
        </li>
        <!--<li>
            <a href="discord.html" class="text-xl hover:text-green-500 transition-all duration-500">Discord</a>
        </li>-->
        <li>
            <a href="download.html" class="text-xl hover:text-green-500 transition-all duration-500">Downloads</a>
        </li>
        <li>
            <a href="impressum.html" class="text-xl hover:text-green-500 transition-all duration-500">Impressum</a>
        </li>
        <li>
            <a href="datenschutz.html" class="text-xl hover:text-green-500 transition-all duration-500">Datenschutz</a>
        </li>
        <li>
            <a href="agb.html" class="text-xl hover:text-green-500 transition-all duration-500">AGB</a>         
        </li>
    </ul>
</nav>

<script>
    function Menu(e){
        let list = document.querySelector('ul');

        e.name === 'menu' ? (e.name = "close",list.classList.add('top-[80px]') , list.classList.add('opacity-100')) : (e.name = "menu" ,list.classList.remove('top-[80px]'),list.classList.remove('opacity-100'))
    }
</script>

    <form method="post" action="" name="google-sheet" class="form-container">
    <img class="drop-shadow-xl mt-6 mx-auto w-32 h-auto" src="logo.png" alt="">
    <h1 class="text-red-600 font-semibold text-xl text-center mt-8 mb-6">
        Bitte dein Anliegen bis spätestens Donnerstag Abend mitteilen!
    </h1>

    <!-- Datum und KW -->
    <div class="mb-8">
        <span class="text-gray-700 font-medium text-lg block text-center mb-4" id="datetime"></span>
        <span class="block text-center">
            <input type="text" name="currentKW" id="currentKW" class="input-modern max-w-xs text-center" readonly>
        </span>
    </div>

    <!-- Name und KW Eingabe -->
    <div class="space-y-4 mb-8">
        <input type="text" Name="Name" placeholder="Name" class="input-modern" required>
        <input type="text" name="KW" placeholder="KW" class="input-modern" required>
    </div>

    <!-- Wochentage -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
        <input type="text" name="Montag" placeholder="Montag" class="input-modern">
        <input type="text" name="Dienstag" placeholder="Dienstag" class="input-modern">
        <input type="text" name="Mittwoch" placeholder="Mittwoch" class="input-modern">
        <input type="text" name="Donnerstag" placeholder="Donnerstag" class="input-modern">
        <input type="text" name="Freitag" placeholder="Freitag" class="input-modern">
        <input type="text" name="Samstag" placeholder="Samstag" class="input-modern">
    </div>

    <!-- Bemerkungen -->
    <div class="mb-8">
        <textarea name="remark" rows="5" placeholder="Bemerkungen" 
                  class="input-modern min-h-[120px] resize-y"></textarea>
    </div>

        <div class="mb-6 text-center">
        <label class="flex items-center justify-center space-x-3 text-gray-700 cursor-pointer">
            <input type="checkbox" id="privacy-checkbox" name="privacy-consent" required 
                   class="w-5 h-5 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 focus:ring-2">
            <span class="text-sm md:text-base">
                Ich habe die 
                <a href="datenschutz.html" target="_blank" class="text-green-600 hover:text-green-800 underline">
                    Datenschutzerklärung
                </a> 
                und die
                <a href="agb.html" target="_blank" class="text-green-600 hover:text-green-800 underline">
                    AGB
                </a>
                gelesen und zur Kenntnis genommen
            </span>
        </label>
    </div>

    <!-- Submit Button -->
    <div class="text-center">
        <button type="submit" id="submit" class="btn-modern w-full md:w-2/3 lg:w-1/2">
            Eingabe weiterleiten
        </button>
    </div>
</form>

<script>
  // create a function to update the date and time
  function updateDateTime() {
    // create a new `Date` object
    const now = new Date();

    // get the current date and time as a string
    const currentDateTime = now.toLocaleString();

    // update the `textContent` property of the `span` element with the `id` of `datetime`
    document.querySelector('#datetime').textContent = currentDateTime;
  }

  // call the `updateDateTime` function every second
  setInterval(updateDateTime, 1000);
</script>

<script>
// Funktion zur Berechnung der Kalenderwoche
function getWeekNumber() {
    const currentDate = new Date();
    const startDate = new Date(currentDate.getFullYear(), 0, 1);
    const days = Math.floor((currentDate - startDate) / (24 * 60 * 60 * 1000));
    
    const weekNumber = Math.ceil((days + startDate.getDay() + 1) / 7);
    
    return weekNumber;
}

// Funktion zur Formatierung der Kalenderwoche (z.B. "KW 01" statt nur "1")
function formatWeekNumber(weekNum) {
    return `aktuelle KW: ${weekNum.toString().padStart(2, '0')}`;
}

// Kalenderwoche beim Laden der Seite setzen
document.addEventListener('DOMContentLoaded', () => {
    const kwInput = document.getElementById('currentKW');
    const weekNumber = getWeekNumber();
    kwInput.value = formatWeekNumber(weekNumber);
});

// Form validation - Button nur aktivieren wenn Datenschutz akzeptiert wurde
document.addEventListener('DOMContentLoaded', () => {
    const privacyCheckbox = document.getElementById('privacy-checkbox');
    const submitButton = document.getElementById('submit');
    
    function updateSubmitButton() {
        if (privacyCheckbox.checked) {
            submitButton.disabled = false;
            submitButton.classList.remove('opacity-50', 'cursor-not-allowed');
        } else {
            submitButton.disabled = true;
            submitButton.classList.add('opacity-50', 'cursor-not-allowed');
        }
    }
// Initial state
    updateSubmitButton();
    
// Event listener für Checkbox
    privacyCheckbox.addEventListener('change', updateSubmitButton);
});
</script>

<footer class="fixed bottom-0 left-0 z-20 w-full p-4 font-bold bg-white border-t border-gray-200 shadow md:flex md:items-center md:justify-between md:p-6 dark:bg-gray-800 dark:border-gray-600">&copy; 2025 - S.W.
          
            <script src="https://www.gstatic.com/dialogflow-console/fast/messenger/bootstrap.js?v=1"></script>
        </footer>

    <section class="bg-cover h-[10vh] bg-white">
    </section>

<script src="js/Google Sheets.js"></script>
<script src="/js/app.js"></script>
</body>
</html>